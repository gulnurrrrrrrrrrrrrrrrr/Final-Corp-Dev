<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <title>–ü—Ä–æ—Ñ–∏–ª—å ‚Äî QuadLingo</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>–ü—Ä–æ—Ñ–∏–ª—å</h1>
        <nav>
            <a href="index.html">‚Üê –ë–∞—Å—Ç—ã –±–µ—Ç</a>
        </nav>
    </header>

    <div class="container">
        <div class="card profile-info" id="profile"></div>
    </div>

    <script>
        const API = 'http://localhost:8080';
        const token = localStorage.getItem('token');

        async function loadProfile() {
            const res = await fetch(API + '/api/profile', {
                headers: {Authorization: `Bearer ${token}`}
            });
            const data = await res.json();
            const roleText = data.user.role === 'admin' ? '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä' : 
                             data.user.role === 'manager' ? '–ú–µ–Ω–µ–¥–∂–µ—Ä' : '–û“õ—É—à—ã';
            document.getElementById('profile').innerHTML = `
                <h2>–°”ô–ª–µ–º, ${data.user.username}!</h2>
                <p><strong>–†”©–ª:</strong> ${roleText}</p>
                <p><strong>–ë–∞–ª–ª–¥–∞—Ä:</strong> ${data.user.points} üèÜ</p>
                <p><strong>Email:</strong> ${data.user.email}</p>
                <button onclick="localStorage.removeItem('token'); window.location='index.html'">–®—ã“ì—É</button>
            `;
        }

        loadProfile();
    </script>
</body>
</html>